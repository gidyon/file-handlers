(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["uploads-culture"],{"0a49":function(t,e,r){var u=r("9b43"),l=r("626a"),a=r("4bf8"),n=r("9def"),i=r("cd1c");t.exports=function(t,e){var r=1==t,s=2==t,o=3==t,c=4==t,d=6==t,p=5==t||d,f=e||i;return function(e,i,m){for(var v,b,h=a(e),k=l(h),g=u(i,m,3),x=n(k.length),y=0,D=r?f(e,x):s?f(e,0):void 0;x>y;y++)if((p||y in k)&&(v=k[y],b=g(v,y,h),t))if(r)D[y]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return y;case 2:D.push(v)}else if(c)return!1;return d?-1:o||c?c:D}}},"0bfb":function(t,e,r){"use strict";var u=r("cb7c");t.exports=function(){var t=u(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},1169:function(t,e,r){var u=r("2d95");t.exports=Array.isArray||function(t){return"Array"==u(t)}},"20d6":function(t,e,r){"use strict";var u=r("5ca1"),l=r("0a49")(6),a="findIndex",n=!0;a in[]&&Array(1)[a](function(){n=!1}),u(u.P+u.F*n,"Array",{findIndex:function(t){return l(this,t,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(a)},3846:function(t,e,r){r("9e1e")&&"g"!=/./g.flags&&r("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:r("0bfb")})},"6b54":function(t,e,r){"use strict";r("3846");var u=r("cb7c"),l=r("0bfb"),a=r("9e1e"),n="toString",i=/./[n],s=function(t){r("2aba")(RegExp.prototype,n,t,!0)};r("79e5")(function(){return"/a/b"!=i.call({source:"a",flags:"b"})})?s(function(){var t=u(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?l.call(t):void 0)}):i.name!=n&&s(function(){return i.call(this)})},b4b1:function(t,e,r){"use strict";r.r(e);var u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:"","pt-0":""}},[r("v-layout",{attrs:{"justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm9:"",md7:"",lg6:""}},[r("v-layout",{attrs:{column:""}},[r("v-layout",{attrs:{column:"","mb-3":""}},[r("v-tabs",{attrs:{dark:"",grow:"","slider-color":"primary"},on:{change:function(e){return t.changeComp()}}},[t._l(t.tabs,function(e){return r("v-tab",{key:e,attrs:{ripple:"","hide-slider":"","slider-color":"primary",light:""}},[t._v(t._s(e))])}),t._l(2,function(t){return r("v-tab-item",{key:t,attrs:{lazy:""}})})],2)],1),r(t.comp,{tag:"component",attrs:{transition:"slide-y-transition"}})],1)],1)],1)],1)},l=[],a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-flex",{attrs:{title:"","primary--text":"","text--darken-1":""}},[t._v("Animal Culture Results Below")]),r("v-text-field",{attrs:{counter:32,rules:t.errors.patientIDErrors,label:"Patient ID Number",required:"","error-messages":t.errors.patientIDErrors},on:{focus:function(e){t.errors.patientIDErrors=[]}},model:{value:t.culture.patientID,callback:function(e){t.$set(t.culture,"patientID",e)},expression:"culture.patientID"}}),r("v-text-field",{attrs:{counter:50,rules:t.errors.patientNameErrors,label:"Patient Name",required:"","error-messages":t.errors.patientNameErrors},on:{focus:function(e){t.errors.patientNameErrors=[]}},model:{value:t.culture.patientName,callback:function(e){t.$set(t.culture,"patientName",e)},expression:"culture.patientName"}}),r("v-text-field",{attrs:{counter:32,rules:t.errors.cultureIDErrors,label:"Culture ID Number",required:"","error-messages":t.errors.cultureIDErrors},on:{focus:function(e){t.errors.cultureIDErrors=[]}},model:{value:t.culture.cultureID,callback:function(e){t.$set(t.culture,"cultureID",e)},expression:"culture.cultureID"}}),r("v-flex",[r("v-dialog",{ref:"dialog",attrs:{"return-value":t.dateModel,lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(e){t.dateModel=e},"update:return-value":function(e){t.dateModel=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var u=e.on;return[r("v-text-field",t._g({attrs:{label:"Culture Results Date","append-icon":"event",readonly:""},model:{value:t.culture.cultureDate,callback:function(e){t.$set(t.culture,"cultureDate",e)},expression:"culture.cultureDate"}},u))]}}]),model:{value:t.dateModel,callback:function(e){t.dateModel=e},expression:"dateModel"}},[r("v-date-picker",{attrs:{scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[r("v-spacer"),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.dateModel=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){return t.$refs.dialog.save(t.date)}}},[t._v("OK")])],1)],1)],1),r("v-text-field",{attrs:{counter:10,rules:t.errors.cultureSourceErrors,label:"Culture Source",placeholder:"Source of sample e.g Urine, Blood, ",required:"","error-messages":t.errors.cultureSourceErrors},on:{focus:function(e){t.errors.cultureSourceErrors=[]}},model:{value:t.culture.cultureSource,callback:function(e){t.$set(t.culture,"cultureSource",e)},expression:"culture.cultureSource"}}),r("v-text-field",{attrs:{label:"Add Culture Results",placeholder:"Pathogens found/tested. Click to add","append-icon":"add",required:"",disabled:t.cultureInput,"error-messages":t.errors.cultureResultsErrors},on:{focus:function(e){t.cultureInput=!0,t.errors.cultureResultsErrors=[]}}}),t.cultureInput?r("add-culture",{attrs:{transition:"slide-y-transition"},on:{cancel:function(e){t.cultureInput=!1},addCulture:t.addCulture}}):t._e(),r("v-snackbar",{attrs:{color:"success",top:!t.$vuetify.breakpoint.xsOnly,timeout:t.snack.timeout},model:{value:t.snack.snackbar,callback:function(e){t.$set(t.snack,"snackbar",e)},expression:"snack.snackbar"}},[t._v("\n        One Culture Result Added\n        "),r("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n            Close\n        ")])],1),r("v-flex",{attrs:{"mt-3":""}},[r("v-flex",{attrs:{subheading:"","grey--text":"","text--darken-1":""}},[t._v("Pathogen/Antibiotic Susceptibility")])],1),r("susceptibility-table",{attrs:{susceptibilities:t.culture.cultureResults,showActions:"",dark:""},on:{delete:t.deleteCulture}}),r("v-checkbox",{attrs:{rules:[function(t){return!!t||"You must agree to continue!"}],label:"Do you agree?",required:""},model:{value:t.checkbox,callback:function(e){t.checkbox=e},expression:"checkbox"}}),r("v-layout",{attrs:{row:""}},[r("v-spacer"),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:t.reset}},[t._v("Reset Form")]),r("v-dialog",{attrs:{fullscreen:t.$vuetify.breakpoint.xsOnly,"max-width":"600",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var u=e.on;return[r("v-btn",t._g({attrs:{color:"primary",dark:""},on:{click:t.upload}},{on:u}),[t._v("Upload Culture\n              "),r("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1)]}}]),model:{value:t.confirmCultureDialog,callback:function(e){t.confirmCultureDialog=e},expression:"confirmCultureDialog"}},[r("confirm-culture",{on:{cancel:function(e){t.confirmCultureDialog=!1},closy:t.closeAndReset}})],1)],1)],1)},n=[],i=(r("20d6"),r("cebc")),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{flat:"",dark:""}},[r("v-card-text",[r("v-container",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[r("v-flex",{attrs:{xs12:""}},[r("v-combobox",{attrs:{"hide-no-data":!t.organismSearch,items:t.organismItems,"search-input":t.organismSearch,"hide-selected":"",label:"Pathogen/Micro-Organism *","small-chips":"",rules:t.rules.pathogenRules,"validate-on-blur":""},on:{"update:searchInput":function(e){t.organismSearch=e},"update:search-input":function(e){t.organismSearch=e}},scopedSlots:t._u([{key:"no-data",fn:function(){return[r("v-list-tile",[r("v-list-tile-content",[r("v-list-tile-title",[t._v('\n                                    No matching for "'),r("strong",[t._v(t._s(t.organismSearch))]),t._v('". Press '),r("kbd",[t._v("enter")]),t._v(" to add the organism\n                                ")])],1)],1)]},proxy:!0},{key:"selection",fn:function(e){var u=e.item,l=e.parent,a=e.selected;return[r("v-chip",{attrs:{color:"red lighten-3",selected:a,label:"",small:""}},[r("span",{staticClass:"pr-2"},[t._v("\n                                "+t._s(u)+"\n                                ")]),r("v-icon",{attrs:{small:""},on:{click:function(t){return l.selectItem(u)}}},[t._v("close")])],1)]}},{key:"item",fn:function(e){e.index;var u=e.item;return[r("v-list-tile-content",[r("v-chip",{attrs:{dark:"",label:"",small:""}},[t._v("\n                                "+t._s(u)+"\n                                ")])],1)]}}]),model:{value:t.organismModel,callback:function(e){t.organismModel=e},expression:"organismModel"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-combobox",{attrs:{"hide-no-data":!t.antibioticSearch,items:t.antibioticItems,"search-input":t.antibioticSearch,"hide-selected":"",label:"Antibiotic/Antimicrobial *","small-chips":"",rules:t.rules.antimicrobialRules,"validate-on-blur":""},on:{"update:searchInput":function(e){t.antibioticSearch=e},"update:search-input":function(e){t.antibioticSearch=e}},scopedSlots:t._u([{key:"no-data",fn:function(){return[r("v-list-tile",[r("v-list-tile-content",[r("v-list-tile-title",[t._v('\n                                    No matching for "'),r("strong",[t._v(t._s(t.antibioticSearch))]),t._v('". Press '),r("kbd",[t._v("enter")]),t._v(" to add the organism\n                                ")])],1)],1)]},proxy:!0},{key:"selection",fn:function(e){var u=e.item,l=e.parent,a=e.selected;return[r("v-chip",{attrs:{color:"cyan lighten-3",selected:a,label:"",small:""}},[r("span",{staticClass:"pr-2"},[t._v("\n                                "+t._s(u)+"\n                                ")]),r("v-icon",{attrs:{small:""},on:{click:function(t){return l.selectItem(u)}}},[t._v("close")])],1)]}},{key:"item",fn:function(e){e.index;var u=e.item;return[r("v-list-tile-content",[r("v-chip",{attrs:{label:"",small:""}},[t._v("\n                                "+t._s(u)+"\n                                ")])],1)]}}]),model:{value:t.antibioticModel,callback:function(e){t.antibioticModel=e},expression:"antibioticModel"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Disk Diameter (mm) *",type:"number",value:"0",suffix:"mm",rules:t.rules.diskDiameterRules,"validate-on-blur":""},model:{value:t.diskDiameter,callback:function(e){t.diskDiameter=e},expression:"diskDiameter"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-select",{attrs:{label:"Label (Breakpoint)",items:t.labels},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1)],1)],1)],1),r("v-container",{attrs:{fluid:"","mt-0":"","pt-0":""}},[r("v-card-actions",{attrs:{red:"","mt-0":""}},[r("v-spacer"),r("v-btn",{attrs:{flat:"",color:"error"},on:{click:function(e){return t.$emit("cancel")}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"primary"},on:{click:t.addResult}},[t._v("Add Result")])],1)],1)],1)},o=[],c=(r("6b54"),r("2b0e")),d=new c["default"],p={created:function(){var t=this;d.$on("CULTURE_EDIT",function(e){t.organismModel.push(e.organism),t.antibioticModel.push(e.antibiotic),t.susceptibility=e.susceptibility;t.organismModel[0],t.antibioticModel[0],t.susceptibility,Math.floor(9999*Math.random()+1)})},data:function(){return{formValid:!1,labels:["Susceptible","Dose - Susceptible","Intermediate","Resistant"],label:"",diskDiameter:null,organismModel:null,antibioticModel:null,organismSearch:"",organismItems:["Pseudomonas glathei","Acetobacter peroxydans","Caulobacter henricii","Mycobacterium bovis","Oerskovia xanthineolytica"],organismIndex:-1,organismNonce:1,antibioticSearch:"",antibioticItems:["Penicilins","Tetracylines","Quinolones","Macrolides","Sulfonamides","Aminoglycosides"],rules:{diskDiameterRules:[function(t){return!!t||"Disk diameter is required"}],pathogenRules:[function(t){return!!t||"Pathogen found in sample is required"}],antimicrobialRules:[function(t){return!!t||"Antimicrobial used in sample is required"}]}}},methods:{addResult:function(){if(this.$refs.form.validate()){var t={pathogenName:this.organismModel,pathogenId:"wdjwjd",antimicrobialName:this.antibioticModel,antimicrobialId:"bf38f",diskDiameter:this.diskDiameter.toString(),nonDiffusionResult:"",resultComment:"",label:this.label,actions:!1};this.$emit("addCulture",t),this.$emit("cancel"),this.organismModel=null,this.antibioticModel=null}}}},f=p,m=r("2877"),v=Object(m["a"])(f,s,o,!1,null,null,null),b=v.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[t.$vuetify.breakpoint.xsOnly?r("v-toolbar",{attrs:{dark:"",color:"primary"}},[r("v-btn",{attrs:{icon:"",dark:""},on:{click:t.close}},[r("v-icon",{attrs:{large:""}},[t._v("keyboard_backspace")])],1),r("v-toolbar-title",{attrs:{"justify-center":""}},[t._v("Confirm Culture Results")]),r("v-spacer")],1):t._e(),t.$vuetify.breakpoint.xsOnly?t._e():r("v-flex",{attrs:{"text-align--center":"",shrink:""}},[r("v-card-title",[r("span",{staticClass:"headline primary--text"},[t._v("Confirm Culture Results")])])],1),t.cultureErrors.length>0?r("v-layout",{attrs:{column:"",wrap:"","align-center":"","justify-center":""}},[r("v-flex",{attrs:{caption:"","error--text":""}},[t._v(t._s(t.cultureErrors.toString().toUpperCase()))]),r("v-flex",{attrs:{caption:"","error--text":""}},[t._v("Please retry or contact admin")])],1):t._e(),r("v-card-text",[r("v-container",{attrs:{"grid-list-md":"","ma-0":"","pa-1":""}},[r("v-layout",{attrs:{column:"",wrap:""}},[r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",[t._v("Patient Age")]),r("v-flex",{attrs:{"primary--text":""}},[t._v(t._s(t.culture.patientAge)+" Year(s)")])],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",[t._v("Patient Gender")]),r("v-flex",{attrs:{"primary--text":""}},[t._v(t._s(t.culture.patientGender))])],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",[t._v("Culture Taken Date")]),r("v-flex",{attrs:{"primary--text":""}},[t._v(t._s(new Date(t.culture.cultureTakenDate).toDateString()))])],1),r("v-divider"),r("v-layout",{attrs:{row:""}},[r("v-flex",[t._v("Culture Result Date")]),r("v-flex",{attrs:{"primary--text":""}},[t._v(t._s(new Date(t.culture.cultureResultsDate).toDateString()))])],1),r("v-divider",{attrs:{row:""}}),r("v-layout",{attrs:{row:""}},[r("v-flex",[t._v("Culture Source")]),r("v-flex",{attrs:{"primary--text":""}},[t._v(t._s(t.culture.cultureSource))])],1),r("v-divider")],1),r("v-flex",{attrs:{"mb-1":""}},[t._v("Susceptibilities Table")]),r("SusceptibilityTable",{attrs:{dark:"",susceptibilities:t.culture.cultureResults}})],1)],1),t.$vuetify.breakpoint.xsOnly?r("v-card-actions",[r("v-container",[r("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:t.loading,block:""},on:{click:t.upload},scopedSlots:t._u([{key:"loader",fn:function(){return[r("span",[t._v("Uploading...")])]},proxy:!0}])},[t._v("Ok, Upload Culture\n            "),r("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1)],1)],1):r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("Not OK, Go Back")]),r("v-btn",{attrs:{color:"primary",loading:t.loading,disabled:t.loading},on:{click:t.upload}},[t._v("Ok, Upload Culture\n          "),r("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1)],1)],1)},k=[],g=(r("96cf"),r("3b8d")),x=(r("70e9"),r("2f62")),y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-data-table",{attrs:{headers:t.susceptibilityHeaders,items:t.susceptibilities,"hide-actions":"",dark:t.dark},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.pathogenName))]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.antimicrobialName))]),r("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.diskDiameter)+" mm")]),t.showActions?r("td",{staticClass:"justify-center layout px-0 align-center"},[r("v-icon",{attrs:{small:""},on:{click:function(r){return t.$emit("delete",e.item)}}},[t._v("\n            delete\n        ")])],1):t._e()]}}])})},D=[],_={props:{susceptibilities:{type:Array},showActions:{type:Boolean},dark:{type:Boolean}},computed:{susceptibilityHeaders:function(){return this.showActions?[{text:"Micro-Organism",name:"organism"},{text:"Antibiotic",name:"antibiotic"},{text:"Diameter",name:"diskDiameter"},{text:"Actions",value:"actions",sortable:!1}]:[{text:"Micro-Organism",name:"organism"},{text:"Antibiotic",name:"antibiotic"},{text:"Diameter",name:"diskDiameter"}]}},data:function(){return{}},methods:{editCulture:function(t){this.$emit("edit",t)},deleteCulture:function(t){this.$emit("delete",t)}}},C=_,S=Object(m["a"])(C,y,D,!1,null,null,null),R=S.exports,I={name:"ConfirmCulture",components:{SusceptibilityTable:R},computed:Object(i["a"])({},Object(x["c"])(["culture","loading","cultureErrors"])),data:function(){return{snackbar:!1,loader:null}},methods:Object(i["a"])({},Object(x["b"])(["uploadCulture"]),{upload:function(){var t=Object(g["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.uploadCulture(this.culture);case 2:this.cultureErrors.length<=0&&(this.closeAndReset(),this.$router.push("/uploads/culture"));case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),closeAndReset:function(){this.$emit("closy")},close:function(){this.$emit("cancel")}})},w=I,A=Object(m["a"])(w,h,k,!1,null,null,null),M=A.exports,O={components:{AddCulture:b,SusceptibilityTable:R,ConfirmCulture:M},computed:{cultureResults:function(){return this.culture}},data:function(){return{confirmCultureDialog:!1,errors:{patientIDErrors:[],patientNameErrors:[],cultureIDErrors:[],cultureSourceErrors:[],cultureResultsErrors:[]},valid:!1,checkbox:"",date:(new Date).toISOString().substr(0,10),dateModel:!1,cultureInput:!1,cultureHeaders:[{text:"Micro-Organism",name:"organism"},{text:"Antibiotic",name:"antibiotic"},{text:"Suceptibility",name:"susceptibility"},{text:"Actions",value:"actions",sortable:!1}],culture:{patientID:"",patientName:"",cultureID:"",cultureDate:(new Date).toISOString().substr(0,10),cultureSource:"",cultureResults:[]},snack:{snackbar:!1,timeout:2500}}},methods:Object(i["a"])({},Object(x["d"])(["updateCulture"]),{fill:function(){this.culture.patientName="Max Masika",this.culture.patientID="28763412",this.culture.cultureID="cdwdi2i9u2928",this.culture.cultureSource="Blood",this.culture.cultureResults=[],this.culture.cultureResults.push({organism:"Caulobacter henricii",antibiotic:"Tetracylines",susceptibility:87,label:"Susceptible"})},addCulture:function(t){this.snack.snackbar=!0,this.culture.cultureResults.push(t)},closeAndReset:function(){this.confirmCultureDialog=!1,this.reset()},upload:function(){var t=!1,e=!1,r=!1,u=!1,l=!1;""!==this.culture.patientName&&null!=this.culture.patientName||(this.errors.patientNameErrors.push("Patient Name is required"),e=!0),""!==this.culture.patientID&&null!=this.culture.patientID||(this.errors.patientIDErrors.push("Patient ID is required"),t=!0),""!==this.culture.cultureID&&null!=this.culture.cultureID||(this.errors.cultureIDErrors.push("Culture ID is required"),r=!0),""!==this.culture.cultureSource&&null!=this.culture.cultureSource||(this.errors.cultureSourceErrors.push("Culture Source is required"),u=!0),null!=this.culture.cultureResults&&0!==this.culture.cultureResults.length||(this.errors.cultureResultsErrors.push("At least one Culture Result is required"),l=!0),t||e||r||u||l||(this.updateCulture(this.culture),this.confirmCultureDialog=!0)},reset:function(){this.culture={},this.culture.cultureDate=(new Date).toISOString().substr(0,10)},deleteCulture:function(t){var e=this.culture.cultureResults.findIndex(function(e){return e.id===t.id});this.culture.cultureResults.splice(e,1)}})},E=O,$=Object(m["a"])(E,a,n,!1,null,null,null),N=$.exports,T=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-flex",{attrs:{title:"","primary--text":"","text--darken-1":""}},[t._v("Human Culture Results Below")]),r("antibiogram-guideline"),r("v-alert",{attrs:{value:!t.isLoggedIn,color:"warning",icon:"priority_high",outline:""}},[t._v("\n      You must Login to submit culture results from tests\n    ")]),r("v-text-field",{attrs:{counter:32,label:"Patient Name","prepend-icon":"face"},model:{value:t.culture.patientName,callback:function(e){t.$set(t.culture,"patientName",e)},expression:"culture.patientName"}}),r("v-text-field",{attrs:{counter:32,label:"Patient ID Number","prepend-icon":"person_outline"},model:{value:t.culture.patientId,callback:function(e){t.$set(t.culture,"patientId",e)},expression:"culture.patientId"}}),r("v-select",{attrs:{label:"Patient Gender *",items:t.gender,rules:t.rules.patientGenderRules,"validate-on-blur":"",required:"","prepend-icon":"wc"},model:{value:t.culture.patientGender,callback:function(e){t.$set(t.culture,"patientGender",e)},expression:"culture.patientGender"}}),r("v-text-field",{attrs:{type:"number",counter:3,rules:t.rules.patientAgeRules,label:"Patient Age *",required:"","prepend-icon":"bubble_chart","validate-on-blur":""},model:{value:t.culture.patientAge,callback:function(e){t.$set(t.culture,"patientAge",e)},expression:"culture.patientAge"}}),r("v-flex",[r("v-dialog",{ref:"takenDialog",attrs:{"return-value":t.takenDateModel,lazy:"",persistent:"","full-width":"",width:"290px"},on:{"update:returnValue":function(e){t.takenDateModel=e},"update:return-value":function(e){t.takenDateModel=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var u=e.on;return[r("v-text-field",t._g({attrs:{label:"Culture Taken Date *",readonly:"","prepend-icon":"today",rules:t.rules.takenDateRules,"validate-on-blur":""},model:{value:t.takenDate,callback:function(e){t.takenDate=e},expression:"takenDate"}},u))]}}]),model:{value:t.takenDateModel,callback:function(e){t.takenDateModel=e},expression:"takenDateModel"}},[r("v-date-picker",{attrs:{scrollable:""},model:{value:t.takenDate,callback:function(e){t.takenDate=e},expression:"takenDate"}},[r("v-spacer"),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.takenDateModel=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.takenDialog.save(t.takenDate),t.culture.cultureTakenDate=t.takenDate}}},[t._v("OK")])],1)],1)],1),r("v-flex",[r("v-dialog",{ref:"resultDialog",attrs:{"return-value":t.resultDateModel,lazy:"",persistent:"","full-width":"",width:"290px"},on:{"update:returnValue":function(e){t.resultDateModel=e},"update:return-value":function(e){t.resultDateModel=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var u=e.on;return[r("v-text-field",t._g({attrs:{label:"Culture Results Date *",readonly:"","prepend-icon":"today",rules:t.rules.resultDateRules,"validate-on-blur":""},model:{value:t.resultDate,callback:function(e){t.resultDate=e},expression:"resultDate"}},u))]}}]),model:{value:t.resultDateModel,callback:function(e){t.resultDateModel=e},expression:"resultDateModel"}},[r("v-date-picker",{attrs:{scrollable:""},model:{value:t.resultDate,callback:function(e){t.resultDate=e},expression:"resultDate"}},[r("v-spacer"),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.resultDateModel=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.resultDialog.save(t.resultDate),t.culture.cultureResultsDate=t.resultDate}}},[t._v("OK")])],1)],1)],1),r("v-text-field",{attrs:{counter:30,rules:t.rules.cultureSourceRules,label:"Culture Source *",placeholder:"Source of sample e.g Urine, Blood, ",required:"","prepend-icon":"group_work","validate-on-blur":""},model:{value:t.culture.cultureSource,callback:function(e){t.$set(t.culture,"cultureSource",e)},expression:"culture.cultureSource"}}),r("v-text-field",{attrs:{label:"Add Culture Results *",rules:t.rules.cultureResultsRules,placeholder:"Pathogens found/tested. Click to add","append-icon":"add",required:"",disabled:t.cultureInput,"prepend-icon":"opacity"},on:{focus:function(e){t.cultureInput=!0}}}),t.cultureInput?r("AddCulture",{attrs:{transition:"slide-y-transition"},on:{cancel:function(e){t.cultureInput=!1},addCulture:t.addCulture}}):t._e(),r("v-snackbar",{attrs:{color:"success",top:!t.$vuetify.breakpoint.xsOnly,timeout:t.snack.timeout},model:{value:t.snack.snackbar,callback:function(e){t.$set(t.snack,"snackbar",e)},expression:"snack.snackbar"}},[t._v("\n        One Culture Result Added\n        "),r("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n            Close\n        ")])],1),r("v-flex",{attrs:{"mt-3":"","mb-1":""}},[r("v-flex",{attrs:{subheading:"","grey--text":"","text--darken-1":""}},[t._v("Pathogen/Antibiotic Susceptibility")])],1),r("SusceptibilityTable",{attrs:{susceptibilities:t.culture.cultureResults,showActions:"",dark:""},on:{delete:t.deleteCulture}}),r("v-btn",{attrs:{block:""},on:{click:t.fill}},[t._v("Fill Form")]),r("v-layout",{attrs:{row:"","mt-3":""}},[r("v-spacer"),r("v-btn",{attrs:{disabled:!t.isLoggedIn,flat:"",color:"primary"},on:{click:t.reset}},[t._v("Reset Form")]),r("v-dialog",{attrs:{fullscreen:t.$vuetify.breakpoint.xsOnly,"max-width":"600",persistent:""},scopedSlots:t._u([{key:"activator",fn:function(e){var u=e.on;return[r("v-btn",t._g({attrs:{disabled:!t.isLoggedIn,color:"primary"},on:{click:t.upload}},{on:u}),[t._v("Upload Culture\n                "),r("v-icon",{attrs:{right:"",dark:""}},[t._v("cloud_upload")])],1)]}}]),model:{value:t.confirmCultureDialog,callback:function(e){t.confirmCultureDialog=e},expression:"confirmCultureDialog"}},[r("ConfirmCulture",{on:{cancel:function(e){t.confirmCultureDialog=!1},closy:t.closeAndReset}})],1)],1)],1)},P=[],j={components:{AddCulture:b,SusceptibilityTable:R,ConfirmCulture:M},computed:Object(i["a"])({},Object(x["c"])(["isLoggedIn","accountId","fullName","accountToken","defaultToken"]),{cultureResults:function(){return this.culture}}),data:function(){var t=this;return{confirmCultureDialog:!1,gender:["Male","Female"],rules:{patientAgeRules:[function(t){return!!t||"Patient Age is required"},function(t){return t&&t>0&&t<100||"Patient Age should be between 0 and 100"}],patientGenderRules:[function(t){return!!t||"Patient Gender is required"}],cultureSourceRules:[function(t){return!!t||"Culture Source is required"},function(t){return t&&t.length<=30||"Culture Source must be less than 30 characters"}],cultureResultsRules:[function(){return!!t.culture.cultureResults&&t.culture.cultureResults.length>0||"At least one Culture Result is required"}],resultDateRules:[function(t){return!!t||"Results date of culture is required"}],takenDateRules:[function(t){return!!t||"Taken date of culture is required"}]},valid:!1,takenDate:null,resultDate:(new Date).toISOString().substr(0,10),takenDateModel:!1,resultDateModel:!1,cultureInput:!1,culture:{labTechId:"",labTechName:"",hospitalId:"",countyCode:"",subCountyCode:"",patientId:"",patientName:"",patientAge:null,patientGender:"",cultureSource:"",pathogensFound:[],antimicrobialsUsed:[],cultureResults:[],cultureResultsDate:null,cultureTakenDate:null},snack:{snackbar:!1,timeout:3e3}}},methods:Object(i["a"])({},Object(x["d"])(["UPDATE_CULTURE"]),{fill:function(){this.culture.patientName="Max Masika",this.culture.patientId="28763412",this.culture.patientGender="Male",this.culture.patientAge=18,this.culture.cultureSource="Blood",this.culture.cultureResultsDate=(new Date).toISOString().substr(0,10),this.culture.cultureTakenDate=(new Date).toISOString().substr(0,10),this.culture.cultureResults=[{pathogenName:"Caulobacter henricii",pathogenId:"wdjwjd",antimicrobialName:"Tetracylines",antimicrobialId:"bf38f",diskDiameter:"87",nonDiffusionResult:"",resultComment:"",label:"SUSCEPTIBLE",actions:!0}],this.culture.pathogensFound=["wdjwjd"],this.culture.antimicrobialsUsed=["bf38f"]},addCulture:function(t){this.snack.snackbar=!0,this.culture.antimicrobialsUsed.push(t.antibiotic),this.culture.pathogensFound.push(t.organism),this.culture.cultureResults.push(t)},closeAndReset:function(){this.confirmCultureDialog=!1,this.reset()},upload:function(){this.$refs.form.validate()&&(this.culture.labTechId=this.accountId,this.culture.labTechName=this.fullName,this.culture.hospitalId="udewgu",this.culture.countyCode="012",this.culture.subCountyCode="567",this.culture.patientAge=this.culture.patientAge.toString(),this.culture.cultureTakenDate=new Date(this.culture.cultureTakenDate).toISOString(),this.culture.cultureResultsDate=new Date(this.culture.cultureResultsDate).toISOString(),this.UPDATE_CULTURE(this.culture),this.confirmCultureDialog=!0)},reset:function(){this.$refs.form.reset(),this.culture.cultureResultsDate=(new Date).toISOString().substr(0,10)},deleteCulture:function(t){var e=this.culture.cultureResults.findIndex(function(e){return e.id===t.id});this.culture.cultureResults.splice(e,1)}})},q=j,U=Object(m["a"])(q,T,P,!1,null,null,null),G=U.exports,B={components:{HumanCulture:G,AnimalCulture:N,ConfirmCulture:M},computed:{comp:function(){return this.component}},data:function(){return{tabs:["Human","Animal"],component:"human-culture"}},methods:{changeComp:function(t){switch(t){case 0:this.component="human-culture";break;case 1:this.component="animal-culture";break}}}},L=B,F=Object(m["a"])(L,u,l,!1,null,null,null);e["default"]=F.exports},cd1c:function(t,e,r){var u=r("e853");t.exports=function(t,e){return new(u(t))(e)}},e853:function(t,e,r){var u=r("d3f4"),l=r("1169"),a=r("2b4c")("species");t.exports=function(t){var e;return l(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!l(e.prototype)||(e=void 0),u(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}}}]);
//# sourceMappingURL=uploads-culture.a5691ba8.js.map